import{d as A,X as U,B as x,y as P,z as F,K as m,c as o,o as n,a as e,q as E,e as a,b as p,t as i,w as _,g as v,f as K,i as u,F as R,r as S,v as X}from"./C9ZPaObW.js";const j={class:"container py-8"},J={key:0,class:"py-16 text-center"},O={key:1,class:"py-12 text-center"},Q={class:"mb-8 text-red-600"},W={key:2,class:"max-w-4xl mx-auto"},Y={class:"text-3xl sm:text-4xl font-bold mb-4"},Z={key:0,class:"flex items-center text-gray-600 mb-8"},$={key:0,class:"flex-shrink-0 mr-2"},tt=["src","alt"],et={key:0,class:"font-medium"},st={class:"flex items-center gap-2 text-sm"},at=["datetime"],ot={key:0,class:"inline-flex"},nt={key:1,class:"mb-8"},lt=["src","alt"],dt=["innerHTML"],rt={key:3,class:"py-12 text-center"},it=A({__name:"[slug]",async setup(ut){var f,h,y,w;let d,c;const M=U().params.slug,s=x(null),b=x(!0),g=x(null);try{const{data:r}=([d,c]=P(()=>F("GetBlogPosts",{first:100})),d=await d,c(),d),t=(y=(h=(f=r.value)==null?void 0:f.posts)==null?void 0:h.nodes)==null?void 0:y.find(l=>l.slug===M);if(t){const{data:l}=([d,c]=P(()=>F("GetBlogPost",{id:t.id})),d=await d,c(),d);(w=l.value)!=null&&w.post?(s.value=l.value.post,m({title:l.value.post.title||"Блог публикация",meta:[{name:"description",content:l.value.post.excerpt||"Прочетете нашата блог публикация"}]})):m({title:"Публикацията не е намерена",meta:[{name:"description",content:"Търсената от вас публикация не съществува или е премахната"},{name:"robots",content:"noindex"}]})}else m({title:"Публикацията не е намерена",meta:[{name:"description",content:"Търсената от вас публикация не съществува или е премахната"},{name:"robots",content:"noindex"}]})}catch(r){g.value=r,m({title:"Грешка при зареждане на публикация",meta:[{name:"description",content:"Възникна грешка при зареждане на публикацията"},{name:"robots",content:"noindex"}]})}finally{b.value=!1}const q=r=>{if(!r)return"";const t=new Date(r);return new Intl.DateTimeFormat("bg-BG",{year:"numeric",month:"long",day:"numeric"}).format(t)};return(r,t)=>{var k,B,N,C,D,H,I,L,T,V;const l=K;return n(),o("div",j,[e(b)?(n(),o("div",J,t[0]||(t[0]=[E('<div class="animate-pulse" data-v-33566051><div class="h-8 bg-gray-200 rounded w-1/3 mx-auto mb-8" data-v-33566051></div><div class="h-4 bg-gray-200 rounded w-1/2 mx-auto mb-2" data-v-33566051></div><div class="h-4 bg-gray-200 rounded w-1/4 mx-auto mb-8" data-v-33566051></div><div class="h-64 bg-gray-200 rounded-lg max-w-4xl mx-auto mb-8" data-v-33566051></div><div class="space-y-3 max-w-4xl mx-auto" data-v-33566051><div class="h-4 bg-gray-200 rounded" data-v-33566051></div><div class="h-4 bg-gray-200 rounded" data-v-33566051></div><div class="h-4 bg-gray-200 rounded" data-v-33566051></div><div class="h-4 bg-gray-200 rounded w-5/6" data-v-33566051></div></div></div>',1)]))):e(g)?(n(),o("div",O,[t[2]||(t[2]=a("h1",{class:"text-2xl font-bold mb-4"}," Грешка при зареждане на публикация ",-1)),a("p",Q,i(e(g)),1),p(l,{to:"/blog",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},{default:_(()=>t[1]||(t[1]=[v(" Обратно към блога ")])),_:1})])):e(s)?(n(),o("div",W,[p(l,{to:"/blog",class:"inline-flex items-center text-blue-600 mb-4"},{default:_(()=>t[3]||(t[3]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})],-1),v(" Обратно към блога ")])),_:1}),a("h1",Y,i(e(s).title),1),e(s).date?(n(),o("div",Z,[(N=(B=(k=e(s).author)==null?void 0:k.node)==null?void 0:B.avatar)!=null&&N.url?(n(),o("div",$,[a("img",{class:"h-10 w-10 rounded-full",src:e(s).author.node.avatar.url,alt:e(s).author.node.name},null,8,tt)])):u("",!0),a("div",null,[(D=(C=e(s).author)==null?void 0:C.node)!=null&&D.name?(n(),o("p",et,i(e(s).author.node.name),1)):u("",!0),a("div",st,[a("time",{datetime:e(s).date},i(q(e(s).date)),9,at),(I=(H=e(s).categories)==null?void 0:H.nodes)!=null&&I.length?(n(),o("span",ot,[t[4]||(t[4]=v(" • ")),(n(!0),o(R,null,S((L=e(s).categories)==null?void 0:L.nodes,(G,z)=>(n(),o("span",{key:G.slug,class:"ml-1"},i(G.name)+i(z<e(s).categories.nodes.length-1?", ":""),1))),128))])):u("",!0)])])])):u("",!0),(V=(T=e(s).featuredImage)==null?void 0:T.node)!=null&&V.sourceUrl?(n(),o("div",nt,[a("img",{src:e(s).featuredImage.node.sourceUrl,alt:e(s).featuredImage.node.altText||e(s).title,class:"w-full h-auto rounded-lg"},null,8,lt)])):u("",!0),a("div",{class:"prose prose-lg max-w-none",innerHTML:e(s).content},null,8,dt)])):(n(),o("div",rt,[t[6]||(t[6]=a("h1",{class:"text-2xl font-bold mb-4"},"Публикацията не е намерена",-1)),t[7]||(t[7]=a("p",{class:"mb-8"}," Търсената от вас публикация не съществува или е премахната. ",-1)),p(l,{to:"/blog",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},{default:_(()=>t[5]||(t[5]=[v(" Обратно към блога ")])),_:1})]))])}}}),vt=X(it,[["__scopeId","data-v-33566051"]]);export{vt as default};
