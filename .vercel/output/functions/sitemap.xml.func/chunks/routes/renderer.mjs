import{createRenderer as e,getRequestDependencies as t,getPreloadLinks as r,getPrefetchLinks as n}from"vue-bundle-renderer/runtime";import{b as o,a as s,d as a,c as i,g as l,e as d,f as u,h as c,u as p,i as h,j as f}from"../_/nitro.mjs";import{renderToString as m}from"vue/server-renderer";import{createHead as y,propsToString as g,renderSSRHead as b}from"unhead/server";import{stringify as _,uneval as w}from"devalue";import{FlatMetaPlugin as v}from"unhead/plugins";import{walkResolver as j}from"unhead/utils";import{toValue as x,isRef as C,hasInjectionContext as S,inject as T,ref as A,watchEffect as R,getCurrentInstance as H,onBeforeUnmount as k,onDeactivated as $,onActivated as P}from"vue";const VueResolver=(e,t)=>C(t)?x(t):t,L="usehead";function injectHead(){if(S()){const e=T(L);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function useHead(e,t={}){const r=t.head||injectHead();return r.ssr?r.push(e||{},t):function(e,t,r={}){const n=A(!1);let o;R((()=>{const s=n.value?{}:j(t,VueResolver);o?o.patch(s):o=e.push(s,r)}));H()&&(k((()=>{o.dispose()})),$((()=>{n.value=!0})),P((()=>{n.value=!1})));return o}(r,e,t)}function useSeoMeta(e={},t={}){(t.head||injectHead()).use(v);const{title:r,titleTemplate:n,...o}=e;return useHead({title:r,titleTemplate:n,_flatMeta:o},t)}function createHead(e={}){const t=y({...e,propResolvers:[VueResolver]});return t.install=function(e){return{install(t){t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide(L,e)}}.install}(t),t}const M={meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}],link:[{rel:"preconnect",href:"https://leaderfitness.admin-panels.com"},{rel:"dns-prefetch",href:"https://leaderfitness.admin-panels.com"},{rel:"icon",href:"/next-level-logo.png",type:"image/png"},{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/tiny-slider.css"}],style:[],script:[{src:"https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/min/tiny-slider.js",defer:!0}],noscript:[],htmlAttrs:{lang:"bg"}},U={id:"teleports"},z={id:"__nuxt-loader"},O=`<div${g({id:"__n"})}>`,N="</div>",getClientManifest=()=>import("../build/client.manifest.mjs").then((e=>e.default||e)).then((e=>"function"==typeof e?e():e)),E=lazyCachedFunction((async()=>{const t=await getClientManifest();if(!t)throw new Error("client.manifest is not available");const r=await import("../build/server.mjs").then((e=>e.default||e));if(!r)throw new Error("Server bundle is not available");return e(r,{manifest:t,renderToString:async function(e,t){const r=await m(e,t);return O+r+N},buildAssetsURL:o})})),F=lazyCachedFunction((async()=>{const t=await getClientManifest(),r=await import("../virtual/_virtual_spa-template.mjs").then((e=>e.template)).catch((()=>"")).then((e=>{{const t=`<div${g(z)}>`;return O+N+(e?t+e+"</div>":"")}})),n=e((()=>()=>{}),{manifest:t,renderToString:()=>r,buildAssetsURL:o}),a=await n.renderToString({});return{rendererContext:n.rendererContext,renderToString:e=>{const t=s(e.event);return e.modules||=new Set,e.payload.serverRendered=!1,e.config={public:t.public,app:t.app},Promise.resolve(a)}}}));function lazyCachedFunction(e){let t=null;return()=>(null===t&&(t=e().catch((e=>{throw t=null,e}))),t)}const D=lazyCachedFunction((()=>import("../build/styles.mjs").then((e=>e.default||e))));function renderPayloadJsonScript(e){const t={type:"application/json",innerHTML:e.data?_(e.data,e.ssrContext._payloadReducers):"","data-nuxt-data":"nuxt-app","data-ssr":!e.ssrContext.noSSR,id:"__NUXT_DATA__"};e.src&&(t["data-src"]=e.src);return[t,{innerHTML:`window.__NUXT__={};window.__NUXT__.config=${w(e.ssrContext.config)}`}]}const X={disableDefaults:!0};const B={omitLineBreaks:!0};globalThis.__buildAssetsURL=o,globalThis.__publicAssetsURL=i;const I=!!U.id,J=I?`<div${g(U)}>`:"",q=I?"</div>":"",W=a((async e=>{const a=p(),i=e.path.startsWith("/__nuxt_error")?l(e):null;if(i&&!("__unenv__"in e.node.req))throw d({statusCode:404,statusMessage:"Page Not Found: /__nuxt_error"});const m=function(e){return{url:e.path,event:e,runtimeConfig:s(e),noSSR:e.context.nuxt?.noSSR||!1,head:createHead(X),error:!1,nuxt:void 0,payload:{},_payloadReducers:Object.create(null),modules:new Set}}(e),y={mode:"server"};if(m.head.push(M,y),i){if(i.statusCode&&=Number.parseInt(i.statusCode),"string"==typeof i.data)try{i.data=u(i.data)}catch{}!function(e,t){e.error=!0,e.payload={error:t},e.url=t.url}(m,i)}const g=c(e);!1===g.ssr&&(m.noSSR=!0);const _=await function(e){return e.noSSR?F():E()}(m);for(const e of await getClientManifest().then((e=>Object.values(e).filter((e=>e._globalCSS)).map((e=>e.src)))))m.modules.add(e);const w=await _.renderToString(m).catch((async e=>{if(m._renderResponse&&"skipping render"===e.message)return{};const t=!i&&m.payload?.error||e;throw await(m.nuxt?.hooks.callHook("app:error",t)),t})),v=m._renderResponse?[]:await async function(e){const t=await D(),r=new Set;for(const n of e)if(n in t&&t[n])for(const e of await t[n]())r.add(e);return Array.from(r).map((e=>({innerHTML:e})))}(m.modules??[]);if(await(m.nuxt?.hooks.callHook("app:rendered",{ssrContext:m,renderResult:w})),m._renderResponse)return m._renderResponse;if(m.payload?.error&&!i)throw m.payload.error;const j=g.noScripts,{styles:x,scripts:C}=t(m,_.rendererContext);m._preloadManifest&&!j&&m.head.push({link:[{rel:"preload",as:"fetch",fetchpriority:"low",crossorigin:"anonymous",href:o(`builds/meta/${m.runtimeConfig.app.buildId}.json`)}]},{...y,tagPriority:"low"}),v.length&&m.head.push({style:v});const S=[];for(const e of Object.values(x))S.push({rel:"stylesheet",href:_.rendererContext.buildAssetsURL(e.file),crossorigin:""});S.length&&m.head.push({link:S},y),j||(m.head.push({link:r(m,_.rendererContext)},y),m.head.push({link:n(m,_.rendererContext)},y),m.head.push({script:renderPayloadJsonScript({ssrContext:m,data:m.payload})},{...y,tagPosition:"bodyClose",tagPriority:"high"})),g.noScripts||m.head.push({script:Object.values(C).map((e=>({type:e.module?"module":null,src:_.rendererContext.buildAssetsURL(e.file),defer:!e.module||null,tagPosition:"head",crossorigin:""})))},y);const{headTags:T,bodyTags:A,bodyTagsOpen:R,htmlAttrs:H,bodyAttrs:k}=await b(m.head,B),$={htmlAttrs:H?[H]:[],head:normalizeChunks([T]),bodyAttrs:k?[k]:[],bodyPrepend:normalizeChunks([R,m.teleports?.body]),body:[w.html,J+(I?joinTags([m.teleports?.[`#${U.id}`]]):"")+q],bodyAppend:[A]};return await a.hooks.callHook("render:html",$,{event:e}),{body:(P=$,`<!DOCTYPE html><html${joinAttrs(P.htmlAttrs)}><head>${joinTags(P.head)}</head><body${joinAttrs(P.bodyAttrs)}>${joinTags(P.bodyPrepend)}${joinTags(P.body)}${joinTags(P.bodyAppend)}</body></html>`),statusCode:f(e),statusMessage:h(e),headers:{"content-type":"text/html;charset=utf-8","x-powered-by":"Nuxt"}};var P}));function normalizeChunks(e){return e.filter(Boolean).map((e=>e.trim()))}function joinTags(e){return e.join("")}function joinAttrs(e){return 0===e.length?"":" "+e.join(" ")}const Y=Object.freeze({__proto__:null,default:W});export{useHead as a,L as h,Y as r,useSeoMeta as u};
//# sourceMappingURL=renderer.mjs.map
