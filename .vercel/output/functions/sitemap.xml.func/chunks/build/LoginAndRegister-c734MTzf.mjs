globalThis.__timing__.logStart("Load chunks/build/LoginAndRegister-c734MTzf");import{c as e,v as t,w as o,r as s,f as a,g as r,b as i,d,h as n,_ as l}from"./server.mjs";import{defineComponent as c,ref as m,watch as u,computed as g,mergeProps as p,unref as v,withCtx as x,createBlock as f,createCommentVNode as h,openBlock as b,toDisplayString as y,useSSRContext as w}from"vue";import{ssrRenderAttrs as $,ssrRenderComponent as _,ssrInterpolate as L,ssrRenderAttr as j,ssrIncludeBooleanAttr as P,ssrLooseContain as A,ssrRenderClass as R,ssrRenderList as k}from"vue/server-renderer";import{L as O}from"./default-C7s0JCB3.mjs";import{_ as q}from"./PasswordInput-s3-97MT1.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"graphql-request";import"consola";import"@iconify/utils";import"node:crypto";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@iconify/vue";import"@heroicons/vue/24/outline";import"@iconify/utils/lib/css/icon";import"@headlessui/vue";import"@heroicons/vue/20/solid";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const z=c({__name:"LoginProviders",__ssrInlineRender:!0,setup(e){const{loginClients:t,loginWithProvider:r}=a(),i=o(),c=s(),{storeSettings:m}=d(),{provider:u,code:p,state:w}=i.query;p&&w&&u&&r(w,p,u.toUpperCase()).then((()=>{c.replace({query:{}})})).catch((e=>{console.error("Login failed:",e)}));const j={FACEBOOK:"ion:logo-facebook",GITHUB:"ion:logo-github",GOOGLE:"ion:logo-google",INSTAGRAM:"ion:logo-instagram",LINKEDIN:"ion:logo-linkedin"},P=(null==m?void 0:m.socialLoginsDisplay)||"buttons",A=g((()=>{var e;return(null==(e=t.value)?void 0:e.filter((e=>(null==e?void 0:e.provider)!==O.PASSWORD)))||[]})),labelFallback=e=>e?`Login with ${e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}`:"Login";return(e,t,o,s)=>{var a;const r=n,i=l,d=l;(null==(a=v(A))?void 0:a.length)?(t(`<div${$(s)}><div class="${R(["buttons"===v(P)?"grid gap-4 grid-cols-[repeat(auto-fit,minmax(180px,1fr))] justify-center":" flex gap-4 flex-wrap justify-center","gap-4"])}">\x3c!--[--\x3e`),k(v(A),((e,s)=>{t("<div>"),e&&(null==e?void 0:e.authorizationUrl)?t(_(r,{to:null==e?void 0:e.authorizationUrl,class:"flex items-center justify-center gap-3 p-3 bg-white rounded-lg shadow-sm hover:shadow transition duration-100 ease-in-out"},{default:x(((t,o,s,a)=>{if(!o)return[e.provider?(b(),f(i,{key:0,name:j[e.provider],size:"20"},null,8,["name"])):(b(),f(d,{key:1,name:"ion:log-in",size:"20"})),"buttons"===v(P)?(b(),f("span",{key:2},y(e.name||labelFallback(e.provider)),1)):h("",!0)];e.provider?o(_(i,{name:j[e.provider],size:"20"},null,s,a)):o(_(d,{name:"ion:log-in",size:"20"},null,s,a)),"buttons"===v(P)?o(`<span${a}>${L(e.name||labelFallback(e.provider))}</span>`):o("\x3c!----\x3e")})),_:2},o)):t("\x3c!----\x3e"),t("</div>")})),t(`\x3c!--]--\x3e</div><div class="flex items-center justify-center gap-4 my-8 leading-none"><div class="border-b w-1/3 flex-1"></div><div class="text-gray-400">${L(e.$t("messages.account.orContinueWithEmail"))}</div><div class="border-b w-1/3 flex-1"></div></div></div>`)):t("\x3c!----\x3e")}}}),T=z.setup;z.setup=(e,t)=>{const o=w();return(o.modules||(o.modules=new Set)).add("woonuxt_base/app/components/forms/LoginProviders.vue"),T?T(e,t):void 0};const U=Object.assign(z,{__name:"LoginProviders"}),C=c({__name:"LoginAndRegister",__ssrInlineRender:!0,setup(e){const{t:d}=t(),n=o();s();const{isPending:l}=a(),c=m({email:"",password:"",username:"",rememberMe:!1}),x=m("login"),f=m(""),h=m("");u(n,(()=>{"forgotPassword"===n.query.action?x.value="forgotPassword":"register"===n.query.action?x.value="register":x.value="login"}),{immediate:!0});const b=g((()=>"login"===x.value?d("messages.account.loginToAccount"):"register"===x.value?d("messages.account.accountRegister"):"forgotPassword"===x.value?d("messages.account.forgotPassword"):void 0)),y=g((()=>"login"===x.value?d("messages.account.login"):"register"===x.value?d("messages.account.register"):"forgotPassword"===x.value?d("messages.account.sendPasswordResetEmail"):void 0));g((()=>"register"===x.value?d("messages.billing.email"):d("messages.account.emailOrUsername"))),g((()=>"login"===x.value?d("messages.account.emailOrUsername"):d("messages.account.username")));const w=g((()=>d("messages.account.password"))),R=g((()=>({email:"johndoe@email.com",username:"login"===x.value?"johndoe@email.com":"johndoe",password:"********"})));return(e,t,o,s)=>{const a=r,d=U,n=q,m=i;t(`<div${$(p({class:"max-w-lg mx-auto my-16 min-h-[600px] text-center"},s))} data-v-48dd173d>`),t(_(a,null,null,o)),t(`<div class="flex flex-col my-2" data-v-48dd173d><h1 class="text-xl font-semibold lg:text-3xl" data-v-48dd173d>${L(v(b))}</h1><p class="text-gray-500 mt-2" data-v-48dd173d>Welcome back! Select method to login.</p></div>`),"login"===v(x)||"register"===v(x)?t(_(d,{class:"my-8"},null,o)):t("\x3c!----\x3e"),t('<form class="mt-6" data-v-48dd173d>'),"register"===v(x)||"forgotPassword"===v(x)?t(`<div for="email" data-v-48dd173d><input id="email"${j("value",v(c).email)}${j("placeholder",v(R).email)} autocomplete="email" type="text" required data-v-48dd173d></div>`):t("\x3c!----\x3e"),"forgotPassword"===v(x)?t(`<p class="text-sm text-gray-500" data-v-48dd173d>${L(e.$t("messages.account.enterEmailOrUsernameForReset"))}</p>`):t("\x3c!----\x3e"),"forgotPassword"!==v(x)?(t(`<div data-v-48dd173d><input class="mt-1"${j("value",v(c).username)}${j("placeholder",v(R).username)} autocomplete="username" type="text" required data-v-48dd173d>`),t(_(n,{className:"border rounded-lg w-full p-3 px-4 bg-white mt-1",modelValue:v(c).password,"onUpdate:modelValue":e=>v(c).password=e,placeholder:v(w),autocomplete:"login"===v(x)?"current-password":"new-password",required:!0},null,o)),t("</div>")):t("\x3c!----\x3e"),v(f)?t(`<div class="my-4 text-sm text-green-500" data-v-48dd173d>${v(f)??""}</div>`):t("\x3c!----\x3e"),v(h)?t(`<div class="my-4 text-sm text-red-500" data-v-48dd173d>${v(h)??""}</div>`):t("\x3c!----\x3e"),t(`<div class="flex items-center justify-between mt-4" data-v-48dd173d><label class="flex items-center gap-2" data-v-48dd173d><input${P(Array.isArray(v(c).rememberMe)?A(v(c).rememberMe,null):v(c).rememberMe)?" checked":""} type="checkbox" data-v-48dd173d>Remember me </label>`),"login"===v(x)?t('<div class="font-semibold cursor-pointer text-sm text-primary hover:text-primary" data-v-48dd173d> Forgot password? </div>'):t("\x3c!----\x3e"),t('</div><button class="flex items-center justify-center gap-4 my-6 text-lg" data-v-48dd173d>'),v(l)?t(_(m,{stroke:"4",size:"16",color:"#fff"},null,o)):t("\x3c!----\x3e"),t(`<span data-v-48dd173d>${L(v(y))}</span></button></form>`),"login"===v(x)?t(`<div class="my-6 text-center" data-v-48dd173d>${L(e.$t("messages.account.noAccount"))} <a class="font-semibold cursor-pointer text-primary" data-v-48dd173d>${L(e.$t("messages.account.accountRegister"))}</a>. </div>`):t("\x3c!----\x3e"),"register"===v(x)?t(`<div class="my-2 text-center justify-center" data-v-48dd173d>${L(e.$t("messages.account.hasAccount"))} <a class="font-semibold cursor-pointer text-primary" data-v-48dd173d>${L(e.$t("messages.general.please"))} ${L(e.$t("messages.account.accountLogin"))}</a></div>`):t("\x3c!----\x3e"),"forgotPassword"===v(x)?t(`<div class="my-8 text-center cursor-pointer" data-v-48dd173d>${L(e.$t("messages.account.backToLogin"))}</div>`):t("\x3c!----\x3e"),t("</div>")}}}),I=C.setup;C.setup=(e,t)=>{const o=w();return(o.modules||(o.modules=new Set)).add("woonuxt_base/app/components/forms/LoginAndRegister.vue"),I?I(e,t):void 0};const M=Object.assign(e(C,[["__scopeId","data-v-48dd173d"]]),{__name:"LoginAndRegister"});export{M as default};globalThis.__timing__.logEnd("Load chunks/build/LoginAndRegister-c734MTzf");
//# sourceMappingURL=LoginAndRegister-c734MTzf.mjs.map
