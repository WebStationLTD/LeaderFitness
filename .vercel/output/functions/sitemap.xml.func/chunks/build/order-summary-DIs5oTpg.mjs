globalThis.__timing__.logStart("Load chunks/build/order-summary-DIs5oTpg");import{y as e,g as s,f as t,x as l,m as i,b as a,j as o,_ as d}from"./server.mjs";import{_ as n,a as r}from"./DownloadableItems-DdNy7UHJ.mjs";import{_ as u}from"./NuxtImg-hBz1e1i1.mjs";import{defineComponent as m,ref as v,computed as c,mergeProps as p,unref as x,withCtx as g,createVNode as f,useSSRContext as h}from"vue";import{ssrRenderAttrs as y,ssrRenderComponent as b,ssrInterpolate as $,ssrRenderList as w}from"vue/server-renderer";import{O as _}from"./default-C7s0JCB3.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"graphql-request";import"consola";import"@iconify/utils";import"node:crypto";import"unhead/server";import"unhead/plugins";import"unhead/utils";import"vue-bundle-renderer/runtime";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@iconify/vue";import"@heroicons/vue/24/outline";import"@iconify/utils/lib/css/icon";import"@headlessui/vue";import"@heroicons/vue/20/solid";const j=m({__name:"order-summary",__ssrInlineRender:!0,setup(m){const{query:h,params:j,name:T}=e(),{customer:I}=s(),{formatDate:k,formatPrice:D}=t(),{t:P}=l(),R=v(null);v("true"===h.fetch_delay);const U=v(!1),q=v("");c((()=>{var e;return!(null==(e=I.value)?void 0:e.email)}));const z=c((()=>"order-summary"===T)),B=c((()=>"order-received"===T)),E=c((()=>{var e;return(null==(e=R.value)?void 0:e.status)!==_.COMPLETED})),S=c((()=>{var e;return!!parseFloat((null==(e=R.value)?void 0:e.rawDiscountTotal)||"0")})),C=c((()=>{var e,s;return(null==(s=null==(e=R.value)?void 0:e.downloadableItems)?void 0:s.nodes)||[]}));return i({title:()=>z.value?P("messages.shop.orderSummary"):P("messages.shop.orderReceived")}),(e,s,t,l)=>{const i=a,m=o,v=d,c=n,h=u,_=r;s(`<div${y(p({class:"w-full min-h-[600px] flex items-center p-4 text-gray-800 md:bg-white md:rounded-xl md:mx-auto md:shadow-lg md:my-24 md:mt-8 md:max-w-3xl md:p-16 flex-col"},l))}>`),x(U)?(s("\x3c!--[--\x3e"),x(R)?(s('<div class="w-full">'),x(z)?(s('<div class="flex items-center gap-4">'),s(b(m,{to:"/my-account?tab=orders",class:"inline-flex items-center justify-center p-2 border rounded-md",title:"Back to orders","aria-label":"Back to orders"},{default:g(((e,s,t,l)=>{if(!s)return[f(v,{name:"ion:chevron-back-outline"})];s(b(v,{name:"ion:chevron-back-outline"},null,t,l))})),_:1},t)),s(`<h1 class="text-xl font-semibold">${$(e.$t("messages.shop.orderSummary"))}</h1></div>`)):x(B)?(s(`\x3c!--[--\x3e<div class="flex items-center justify-between w-full mb-2"><h1 class="text-xl font-semibold">${$(e.$t("messages.shop.orderReceived"))}</h1>`),x(E)?(s('<button type="button" class="inline-flex items-center justify-center p-2 bg-white border rounded-md" title="Refresh order" aria-label="Refresh order">'),s(b(v,{name:"ion:refresh-outline"},null,t)),s("</button>")):s("\x3c!----\x3e"),s(`</div><p>${$(e.$t("messages.shop.orderThanks"))}</p>\x3c!--]--\x3e`)):s("\x3c!----\x3e"),s('<hr class="my-8"></div>')):s("\x3c!----\x3e"),x(R)?(s(`<div class="flex-1 w-full"><div class="flex items-start justify-between"><div class="w-[21%]"><div class="mb-2 text-xs text-gray-400 uppercase">${$(e.$t("messages.shop.order"))}</div><div class="leading-none">#${$(x(R).databaseId)}</div></div><div class="w-[21%]"><div class="mb-2 text-xs text-gray-400 uppercase">${$(e.$t("messages.general.date"))}</div><div class="leading-none">${$(x(k)(x(R).date))}</div></div><div class="w-[21%]"><div class="mb-2 text-xs text-gray-400 uppercase">${$(e.$t("messages.general.status"))}</div>`),x(R).status?s(b(c,{order:x(R)},null,t)):s("\x3c!----\x3e"),s(`</div><div class="w-[21%]"><div class="mb-2 text-xs text-gray-400 uppercase">${$(e.$t("messages.general.paymentMethod"))}</div><div class="leading-none">${$(x(R).paymentMethodTitle)}</div></div></div>`),x(R).lineItems?(s('\x3c!--[--\x3e<hr class="my-8"><div class="grid gap-2">\x3c!--[--\x3e'),w(x(R).lineItems.nodes,(e=>{var l,i,a,o;s('<div class="flex items-center justify-between gap-8">'),(null==(l=e.product)?void 0:l.node)?s(b(m,{to:`/produkt/${e.product.node.slug}`},{default:g(((s,t,l,i)=>{var a,o,d,n,r,u,m,v,c,p,x,g,y,$,w,_,j,T,I,k,D,P,R,U,q,z,B,E,S,C;if(!t)return[f(h,{class:"w-16 h-16 rounded-xl",src:(null==(T=null==(j=null==(_=e.variation)?void 0:_.node)?void 0:j.image)?void 0:T.sourceUrl)||(null==(k=null==(I=e.product.node)?void 0:I.image)?void 0:k.sourceUrl)||"/images/placeholder.png",alt:(null==(R=null==(P=null==(D=e.variation)?void 0:D.node)?void 0:P.image)?void 0:R.altText)||(null==(q=null==(U=e.product.node)?void 0:U.image)?void 0:q.altText)||"Product image",title:(null==(E=null==(B=null==(z=e.variation)?void 0:z.node)?void 0:B.image)?void 0:E.title)||(null==(C=null==(S=e.product.node)?void 0:S.image)?void 0:C.title)||"Product image",width:"64",height:"64",loading:"lazy"},null,8,["src","alt","title"])];t(b(h,{class:"w-16 h-16 rounded-xl",src:(null==(d=null==(o=null==(a=e.variation)?void 0:a.node)?void 0:o.image)?void 0:d.sourceUrl)||(null==(r=null==(n=e.product.node)?void 0:n.image)?void 0:r.sourceUrl)||"/images/placeholder.png",alt:(null==(v=null==(m=null==(u=e.variation)?void 0:u.node)?void 0:m.image)?void 0:v.altText)||(null==(p=null==(c=e.product.node)?void 0:c.image)?void 0:p.altText)||"Product image",title:(null==(y=null==(g=null==(x=e.variation)?void 0:x.node)?void 0:g.image)?void 0:y.title)||(null==(w=null==($=e.product.node)?void 0:$.image)?void 0:w.title)||"Product image",width:"64",height:"64",loading:"lazy"},null,l,i))})),_:2},t)):s("\x3c!----\x3e"),s(`<div class="flex-1 leading-tight">${$(e.variation?null==(a=null==(i=e.variation)?void 0:i.node)?void 0:a.name:null==(o=e.product)?void 0:o.node.name)}</div><div class="text-sm text-gray-600">Qty. ${$(e.quantity)}</div><span class="text-sm font-semibold">${$(x(D)(e.total))}</span></div>`)})),s("\x3c!--]--\x3e</div>\x3c!--]--\x3e")):s("\x3c!----\x3e"),s('<hr class="my-8">'),x(C).length&&!x(E)?(s("<div>"),s(b(_,{downloadableItems:x(C)},null,t)),s('<hr class="my-8"></div>')):s("\x3c!----\x3e"),s(`<div><div class="flex justify-between"><span>${$(e.$t("messages.shop.subtotal"))}</span><span>${$(x(R).subtotal)}</span></div><div class="flex justify-between"><span>${$(e.$t("messages.general.tax"))}</span><span>${$(x(R).totalTax)}</span></div><div class="flex justify-between"><span>${$(e.$t("messages.general.shipping"))}</span><span>${$(x(R).shippingTotal)}</span></div>`),x(S)?s(`<div class="flex justify-between text-primary"><span>${$(e.$t("messages.shop.discount"))}</span><span>- ${$(x(R).discountTotal)}</span></div>`):s("\x3c!----\x3e"),s(`<hr class="my-8"><div class="flex justify-between"><span class>${$(e.$t("messages.shop.total"))}</span><span class="font-semibold">${$(x(R).total)}</span></div></div></div>`)):x(q)?(s('<div class="flex flex-col items-center justify-center flex-1 w-full gap-4 text-center">'),s(b(v,{name:"ion:sad-outline",size:"96",class:"text-gray-700"},null,t)),s('<h1 class="text-xl font-semibold">Error</h1>'),x(q)?s(`<div class="text-sm text-red-500">${x(q)??""}</div>`):s("\x3c!----\x3e"),s("</div>")):s("\x3c!----\x3e"),s("\x3c!--]--\x3e")):s(b(i,{class:"flex-1"},null,t)),s("</div>")}}}),T=j.setup;j.setup=(e,s)=>{const t=h();return(t.modules||(t.modules=new Set)).add("woonuxt_base/app/pages/order-summary.vue"),T?T(e,s):void 0};export{j as default};globalThis.__timing__.logEnd("Load chunks/build/order-summary-DIs5oTpg");
//# sourceMappingURL=order-summary-DIs5oTpg.mjs.map
