import{c as e,w as t,x as s,s as o,g as a,h as r,b as i,f as d,i as n,_ as l}from"./server.mjs";import{defineComponent as m,ref as c,watch as u,computed as p,mergeProps as v,unref as g,withCtx as x,createBlock as h,createCommentVNode as y,openBlock as b,toDisplayString as w,useSSRContext as $}from"vue";import{ssrRenderAttrs as _,ssrRenderComponent as j,ssrInterpolate as P,ssrRenderAttr as L,ssrIncludeBooleanAttr as A,ssrLooseContain as R,ssrRenderClass as O,ssrRenderList as k}from"vue/server-renderer";import{$ as q}from"./default-3LCvtah8.mjs";import{R as U}from"./PasswordInput-36ONH1WS.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"graphql-request";import"consola";import"@iconify/utils";import"node:crypto";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@iconify/vue";import"@heroicons/vue/24/outline";import"@iconify/utils/lib/css/icon";import"@headlessui/vue";import"@heroicons/vue/20/solid";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const I=m({__name:"LoginProviders",__ssrInlineRender:!0,setup(e){const{loginClients:t,loginWithProvider:r}=a(),i=s(),m=o(),{storeSettings:c}=d(),{provider:u,code:v,state:$}=i.query;v&&$&&u&&r($,v,u.toUpperCase()).then((()=>{m.replace({query:{}})})).catch((e=>{console.error("Login failed:",e)}));const L={FACEBOOK:"ion:logo-facebook",GITHUB:"ion:logo-github",GOOGLE:"ion:logo-google",INSTAGRAM:"ion:logo-instagram",LINKEDIN:"ion:logo-linkedin"},A=(null==c?void 0:c.socialLoginsDisplay)||"buttons",R=p((()=>{var e;return(null==(e=t.value)?void 0:e.filter((e=>(null==e?void 0:e.provider)!==q.PASSWORD)))||[]})),f=e=>e?`Login with ${e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}`:"Login";return(e,t,s,o)=>{var a;const r=n,i=l,d=l;null!=(a=g(R))&&a.length?(t(`<div${_(o)}><div class="${O(["buttons"===g(A)?"grid gap-4 grid-cols-[repeat(auto-fit,minmax(180px,1fr))] justify-center":" flex gap-4 flex-wrap justify-center","gap-4"])}">\x3c!--[--\x3e`),k(g(R),((e,o)=>{t("<div>"),e&&null!=e&&e.authorizationUrl?t(j(r,{to:null==e?void 0:e.authorizationUrl,class:"flex items-center justify-center gap-3 p-3 bg-white rounded-lg shadow-sm hover:shadow transition duration-100 ease-in-out"},{default:x(((t,s,o,a)=>{if(!s)return[e.provider?(b(),h(i,{key:0,name:L[e.provider],size:"20"},null,8,["name"])):(b(),h(d,{key:1,name:"ion:log-in",size:"20"})),"buttons"===g(A)?(b(),h("span",{key:2},w(e.name||f(e.provider)),1)):y("",!0)];e.provider?s(j(i,{name:L[e.provider],size:"20"},null,o,a)):s(j(d,{name:"ion:log-in",size:"20"},null,o,a)),"buttons"===g(A)?s(`<span${a}>${P(e.name||f(e.provider))}</span>`):s("\x3c!----\x3e")})),_:2},s)):t("\x3c!----\x3e"),t("</div>")})),t(`\x3c!--]--\x3e</div><div class="flex items-center justify-center gap-4 my-8 leading-none"><div class="border-b w-1/3 flex-1"></div><div class="text-gray-400">${P(e.$t("messages.account.orContinueWithEmail"))}</div><div class="border-b w-1/3 flex-1"></div></div></div>`)):t("\x3c!----\x3e")}}}),S=I.setup;I.setup=(e,t)=>{const s=$();return(s.modules||(s.modules=new Set)).add("woonuxt_base/app/components/forms/LoginProviders.vue"),S?S(e,t):void 0};const z=Object.assign(I,{__name:"LoginProviders"}),C=m({__name:"LoginAndRegister",__ssrInlineRender:!0,setup(e){const{t:d}=t(),n=s();o();const{isPending:l}=a(),m=c({email:"",password:"",username:"",rememberMe:!1}),x=c("login"),h=c(""),y=c("");u(n,(()=>{"forgotPassword"===n.query.action?x.value="forgotPassword":"register"===n.query.action?x.value="register":x.value="login"}),{immediate:!0});const b=p((()=>"login"===x.value?d("messages.account.loginToAccount"):"register"===x.value?d("messages.account.accountRegister"):"forgotPassword"===x.value?d("messages.account.forgotPassword"):void 0)),w=p((()=>"login"===x.value?d("messages.account.login"):"register"===x.value?d("messages.account.register"):"forgotPassword"===x.value?d("messages.account.sendPasswordResetEmail"):void 0));p((()=>"register"===x.value?d("messages.billing.email"):d("messages.account.emailOrUsername"))),p((()=>"login"===x.value?d("messages.account.emailOrUsername"):d("messages.account.username")));const $=p((()=>d("messages.account.password"))),O=p((()=>({email:"johndoe@email.com",username:"login"===x.value?"johndoe@email.com":"johndoe",password:"********"})));return(e,t,s,o)=>{const a=r,d=z,n=U,c=i;t(`<div${_(v({class:"max-w-lg mx-auto my-16 min-h-[600px] text-center"},o))} data-v-48dd173d>`),t(j(a,null,null,s)),t(`<div class="flex flex-col my-2" data-v-48dd173d><h1 class="text-xl font-semibold lg:text-3xl" data-v-48dd173d>${P(g(b))}</h1><p class="text-gray-500 mt-2" data-v-48dd173d>Welcome back! Select method to login.</p></div>`),"login"===g(x)||"register"===g(x)?t(j(d,{class:"my-8"},null,s)):t("\x3c!----\x3e"),t('<form class="mt-6" data-v-48dd173d>'),"register"===g(x)||"forgotPassword"===g(x)?t(`<div for="email" data-v-48dd173d><input id="email"${L("value",g(m).email)}${L("placeholder",g(O).email)} autocomplete="email" type="text" required data-v-48dd173d></div>`):t("\x3c!----\x3e"),"forgotPassword"===g(x)?t(`<p class="text-sm text-gray-500" data-v-48dd173d>${P(e.$t("messages.account.enterEmailOrUsernameForReset"))}</p>`):t("\x3c!----\x3e"),"forgotPassword"!==g(x)?(t(`<div data-v-48dd173d><input class="mt-1"${L("value",g(m).username)}${L("placeholder",g(O).username)} autocomplete="username" type="text" required data-v-48dd173d>`),t(j(n,{className:"border rounded-lg w-full p-3 px-4 bg-white mt-1",modelValue:g(m).password,"onUpdate:modelValue":e=>g(m).password=e,placeholder:g($),autocomplete:"login"===g(x)?"current-password":"new-password",required:!0},null,s)),t("</div>")):t("\x3c!----\x3e"),g(h)?t(`<div class="my-4 text-sm text-green-500" data-v-48dd173d>${g(h)??""}</div>`):t("\x3c!----\x3e"),g(y)?t(`<div class="my-4 text-sm text-red-500" data-v-48dd173d>${g(y)??""}</div>`):t("\x3c!----\x3e"),t(`<div class="flex items-center justify-between mt-4" data-v-48dd173d><label class="flex items-center gap-2" data-v-48dd173d><input${A(Array.isArray(g(m).rememberMe)?R(g(m).rememberMe,null):g(m).rememberMe)?" checked":""} type="checkbox" data-v-48dd173d>Remember me </label>`),"login"===g(x)?t('<div class="font-semibold cursor-pointer text-sm text-primary hover:text-primary" data-v-48dd173d> Forgot password? </div>'):t("\x3c!----\x3e"),t('</div><button class="flex items-center justify-center gap-4 my-6 text-lg" data-v-48dd173d>'),g(l)?t(j(c,{stroke:"4",size:"16",color:"#fff"},null,s)):t("\x3c!----\x3e"),t(`<span data-v-48dd173d>${P(g(w))}</span></button></form>`),"login"===g(x)?t(`<div class="my-6 text-center" data-v-48dd173d>${P(e.$t("messages.account.noAccount"))} <a class="font-semibold cursor-pointer text-primary" data-v-48dd173d>${P(e.$t("messages.account.accountRegister"))}</a>. </div>`):t("\x3c!----\x3e"),"register"===g(x)?t(`<div class="my-2 text-center justify-center" data-v-48dd173d>${P(e.$t("messages.account.hasAccount"))} <a class="font-semibold cursor-pointer text-primary" data-v-48dd173d>${P(e.$t("messages.general.please"))} ${P(e.$t("messages.account.accountLogin"))}</a></div>`):t("\x3c!----\x3e"),"forgotPassword"===g(x)?t(`<div class="my-8 text-center cursor-pointer" data-v-48dd173d>${P(e.$t("messages.account.backToLogin"))}</div>`):t("\x3c!----\x3e"),t("</div>")}}}),E=C.setup;C.setup=(e,t)=>{const s=$();return(s.modules||(s.modules=new Set)).add("woonuxt_base/app/components/forms/LoginAndRegister.vue"),E?E(e,t):void 0};const M=Object.assign(e(C,[["__scopeId","data-v-48dd173d"]]),{__name:"LoginAndRegister"});export{M as default};
//# sourceMappingURL=LoginAndRegister-BqwDA22a.mjs.map
