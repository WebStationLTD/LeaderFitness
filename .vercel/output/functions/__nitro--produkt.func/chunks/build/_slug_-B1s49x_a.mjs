import{c as e,x as t,j as a,m as d,i as l}from"./server.mjs";import{defineComponent as o,ref as s,withAsyncContext as n,mergeProps as i,unref as r,withCtx as v,createTextVNode as u,createBlock as m,openBlock as c,createVNode as p,useSSRContext as x}from"vue";import{ssrRenderAttrs as g,ssrInterpolate as h,ssrRenderComponent as b,ssrRenderAttr as f,ssrRenderList as w}from"vue/server-renderer";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"graphql-request";import"consola";import"@iconify/utils";import"node:crypto";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@iconify/vue";import"@heroicons/vue/24/outline";import"@iconify/utils/lib/css/icon";import"@headlessui/vue";import"@heroicons/vue/20/solid";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const y=o({__name:"[slug]",__ssrInlineRender:!0,async setup(e){var o,x,y,$;let _,I;const B=t().params.slug,j=s(null),H=s(!0),G=s(null);try{const{data:e}=([_,I]=n((()=>a("GetBlogPosts",{first:100}))),_=await _,I(),_),t=null==(y=null==(x=null==(o=e.value)?void 0:o.posts)?void 0:x.nodes)?void 0:y.find((e=>e.slug===B));if(t){const{data:e}=([_,I]=n((()=>a("GetBlogPost",{id:t.id}))),_=await _,I(),_);null!=($=e.value)&&$.post?(j.value=e.value.post,d({title:e.value.post.title||"Блог публикация",meta:[{name:"description",content:e.value.post.excerpt||"Прочетете нашата блог публикация"}]})):d({title:"Публикацията не е намерена",meta:[{name:"description",content:"Търсената от вас публикация не съществува или е премахната"},{name:"robots",content:"noindex"}]})}else d({title:"Публикацията не е намерена",meta:[{name:"description",content:"Търсената от вас публикация не съществува или е премахната"},{name:"robots",content:"noindex"}]})}catch(e){G.value=e,d({title:"Грешка при зареждане на публикация",meta:[{name:"description",content:"Възникна грешка при зареждане на публикацията"},{name:"robots",content:"noindex"}]})}finally{H.value=!1}return(e,t,a,d)=>{var o,s,n,x,y,$,_,I,B,q;const z=l;t(`<div${g(i({class:"container py-8"},d))} data-v-33566051>`),r(H)?t('<div class="py-16 text-center" data-v-33566051><div class="animate-pulse" data-v-33566051><div class="h-8 bg-gray-200 rounded w-1/3 mx-auto mb-8" data-v-33566051></div><div class="h-4 bg-gray-200 rounded w-1/2 mx-auto mb-2" data-v-33566051></div><div class="h-4 bg-gray-200 rounded w-1/4 mx-auto mb-8" data-v-33566051></div><div class="h-64 bg-gray-200 rounded-lg max-w-4xl mx-auto mb-8" data-v-33566051></div><div class="space-y-3 max-w-4xl mx-auto" data-v-33566051><div class="h-4 bg-gray-200 rounded" data-v-33566051></div><div class="h-4 bg-gray-200 rounded" data-v-33566051></div><div class="h-4 bg-gray-200 rounded" data-v-33566051></div><div class="h-4 bg-gray-200 rounded w-5/6" data-v-33566051></div></div></div></div>'):r(G)?(t(`<div class="py-12 text-center" data-v-33566051><h1 class="text-2xl font-bold mb-4" data-v-33566051> Грешка при зареждане на публикация </h1><p class="mb-8 text-red-600" data-v-33566051>${h(r(G))}</p>`),t(b(z,{to:"/blog",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},{default:v(((e,t,a,d)=>{if(!t)return[u(" Обратно към блога ")];t(" Обратно към блога ")})),_:1},a)),t("</div>")):r(j)?(t('<div class="max-w-4xl mx-auto" data-v-33566051>'),t(b(z,{to:"/blog",class:"inline-flex items-center text-blue-600 mb-4"},{default:v(((e,t,a,d)=>{if(!t)return[(c(),m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[p("path",{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})])),u(" Обратно към блога ")];t(`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor" data-v-33566051${d}><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" data-v-33566051${d}></path></svg> Обратно към блога `)})),_:1},a)),t(`<h1 class="text-3xl sm:text-4xl font-bold mb-4" data-v-33566051>${h(r(j).title)}</h1>`),r(j).date?(t('<div class="flex items-center text-gray-600 mb-8" data-v-33566051>'),null!=(n=null==(s=null==(o=r(j).author)?void 0:o.node)?void 0:s.avatar)&&n.url?t(`<div class="flex-shrink-0 mr-2" data-v-33566051><img class="h-10 w-10 rounded-full"${f("src",r(j).author.node.avatar.url)}${f("alt",r(j).author.node.name)} data-v-33566051></div>`):t("\x3c!----\x3e"),t("<div data-v-33566051>"),null!=(y=null==(x=r(j).author)?void 0:x.node)&&y.name?t(`<p class="font-medium" data-v-33566051>${h(r(j).author.node.name)}</p>`):t("\x3c!----\x3e"),t(`<div class="flex items-center gap-2 text-sm" data-v-33566051><time${f("datetime",r(j).date)} data-v-33566051>${h((e=>{if(!e)return"";const t=new Date(e);return new Intl.DateTimeFormat("bg-BG",{year:"numeric",month:"long",day:"numeric"}).format(t)})(r(j).date))}</time>`),null!=(_=null==($=r(j).categories)?void 0:$.nodes)&&_.length?(t('<span class="inline-flex" data-v-33566051> • \x3c!--[--\x3e'),w(null==(I=r(j).categories)?void 0:I.nodes,((e,a)=>{t(`<span class="ml-1" data-v-33566051>${h(e.name)}${h(a<r(j).categories.nodes.length-1?", ":"")}</span>`)})),t("\x3c!--]--\x3e</span>")):t("\x3c!----\x3e"),t("</div></div></div>")):t("\x3c!----\x3e"),null!=(q=null==(B=r(j).featuredImage)?void 0:B.node)&&q.sourceUrl?t(`<div class="mb-8" data-v-33566051><img${f("src",r(j).featuredImage.node.sourceUrl)}${f("alt",r(j).featuredImage.node.altText||r(j).title)} class="w-full h-auto rounded-lg" data-v-33566051></div>`):t("\x3c!----\x3e"),t(`<div class="prose prose-lg max-w-none" data-v-33566051>${r(j).content??""}</div></div>`)):(t('<div class="py-12 text-center" data-v-33566051><h1 class="text-2xl font-bold mb-4" data-v-33566051>Публикацията не е намерена</h1><p class="mb-8" data-v-33566051> Търсената от вас публикация не съществува или е премахната. </p>'),t(b(z,{to:"/blog",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},{default:v(((e,t,a,d)=>{if(!t)return[u(" Обратно към блога ")];t(" Обратно към блога ")})),_:1},a)),t("</div>")),t("</div>")}}}),$=y.setup;y.setup=(e,t)=>{const a=x();return(a.modules||(a.modules=new Set)).add("pages/blog/[slug].vue"),$?$(e,t):void 0};const _=e(y,[["__scopeId","data-v-33566051"]]);export{_ as default};
//# sourceMappingURL=_slug_-B1s49x_a.mjs.map
