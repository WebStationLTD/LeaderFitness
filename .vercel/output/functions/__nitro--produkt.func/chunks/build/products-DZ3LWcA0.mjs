import{_ as e,a as r,b as o,c as t,d as i,e as s}from"./ProductGrid-Bl8WhHln.mjs";import{defineComponent as u,computed as a,withAsyncContext as n,watch as d,unref as p,mergeProps as l,withCtx as c,createTextVNode as m,useSSRContext as v}from"vue";import{ssrRenderAttrs as y,ssrRenderComponent as f}from"vue/server-renderer";import{z as g,w as h,d as x,e as q,l as b}from"./server.mjs";import"./default-C7s0JCB3.mjs";import"graphql-request";import"./ProductCard-SaerHacm.mjs";import"./NuxtImg-BJG_EbHe.mjs";import"./ProductPrice-BLA-t2Nu.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"consola";import"@iconify/utils";import"node:crypto";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@iconify/vue";import"@heroicons/vue/24/outline";import"@iconify/utils/lib/css/icon";import"@headlessui/vue";import"@heroicons/vue/20/solid";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const w=u({__name:"products",__ssrInlineRender:!0,async setup(u){let v,w;const{loadProductsForPage:P,updateProductList:j,products:_,getCurrentPageFromRoute:C,isLoading:F}=g(),M=h(),{storeSettings:B}=x();q(),b({title:"Products",meta:[{name:"description",content:"Discover our products"}]});const S=a((()=>({search:M.query.search,categoryIn:M.query.category?[M.query.category]:void 0,priceMin:M.query.priceMin?parseFloat(M.query.priceMin):void 0,priceMax:M.query.priceMax?parseFloat(M.query.priceMax):void 0,onSale:"true"===M.query.sale||void 0,orderby:M.query.orderby||"DATE",order:M.query.order||"DESC",rating:M.query.rating?[parseInt(M.query.rating,10)]:void 0}))),D=C();return[v,w]=n((()=>P(D,S.value))),await v,w(),d((()=>M.query),(()=>{"products"!==M.name&&"product-page-pager"!==M.name||j()})),d((()=>M.params),(()=>{"products"!==M.name&&"product-page-pager"!==M.name||j()})),(u,a,n,d)=>{var v;const g=e,h=r,x=o,q=t,b=i,w=s;!p(F)&&(null==(v=p(_))?void 0:v.length)?(a(`<div${y(l({class:"container flex items-start gap-16 px-2"},d))}>`),p(B).showFilters?a(f(g,null,null,n)):a("\x3c!----\x3e"),a('<div class="w-full"><div class="flex items-center justify-between w-full gap-4 mt-8 md:gap-8">'),a(f(h,null,null,n)),p(B).showOrderByDropdown?a(f(x,{class:"hidden md:inline-flex"},null,n)):a("\x3c!----\x3e"),p(B).showFilters?a(f(q,{class:"md:hidden"},null,n)):a("\x3c!----\x3e"),a("</div>"),a(f(b,null,null,n)),a("</div></div>")):p(F)?a(`<div${y(l({class:"py-16 text-center"},d))}><div class="inline-block p-4 text-gray-500"><div class="h-8 w-8 border-t-2 border-primary border-solid rounded-full mx-auto animate-spin mb-4"></div><p>Зареждане на продукти...</p></div></div>`):a(f(w,d,{default:c(((e,r,o,t)=>{if(!r)return[m("Could not fetch products from your store. Please check your configuration.")];r("Could not fetch products from your store. Please check your configuration.")})),_:1},n))}}}),P=w.setup;w.setup=(e,r)=>{const o=v();return(o.modules||(o.modules=new Set)).add("woonuxt_base/app/pages/products.vue"),P?P(e,r):void 0};export{w as default};
//# sourceMappingURL=products-DZ3LWcA0.mjs.map
