import{_ as e,a as t,b as r,c as o,d as s,e as a}from"./ProductGrid-DM3elyy0.mjs";import{defineComponent as l,ref as i,watch as d,mergeProps as n,unref as u,withCtx as p,createVNode as m,createBlock as c,toDisplayString as g,openBlock as v,createTextVNode as y,useSSRContext as f}from"vue";import{ssrRenderAttrs as x,ssrRenderComponent as h,ssrInterpolate as b}from"vue/server-renderer";import{z as k,e as $,d as P,w,l as j}from"./server.mjs";import"./default-C7s0JCB3.mjs";import"graphql-request";import"./ProductCard-SaerHacm.mjs";import"./NuxtImg-BJG_EbHe.mjs";import"./ProductPrice-BLA-t2Nu.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"consola";import"@iconify/utils";import"node:crypto";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@iconify/vue";import"@heroicons/vue/24/outline";import"@iconify/utils/lib/css/icon";import"@headlessui/vue";import"@heroicons/vue/20/solid";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const S=l({__name:"[slug]",__ssrInlineRender:!0,setup(l){const{updateProductList:f,products:S}=k();$();const{storeSettings:_}=P(),N=w(),L=i(!0);let A="";if(N.params&&N.params.categorySlug&&(A="string"==typeof N.params.categorySlug?N.params.categorySlug:String(N.params.categorySlug)),!A&&N.params&&N.params.slug&&(A="string"==typeof N.params.slug?N.params.slug:String(N.params.slug)),!A&&N.path){const e=N.path.split("/"),t=e.findIndex((e=>"produkt-kategoriya"===e));if(-1!==t&&e[t+1]&&"page"!==e[t+1]){const r=e[t+1];r&&(A=r)}}let R=A;try{A&&(R=decodeURIComponent(A))}catch(e){console.error("Грешка при декодиране на URL:",e)}const B=i(A);i(null);const C=i(R||"All Products"),D=i(`Products in category ${R||"All Products"}`);return j({title:C.value,meta:[{name:"description",content:D.value}]}),d((()=>N.query),(()=>{"produkt-kategoriya-slug"!==N.name&&"produkt-kategoriya-page-pager"!==N.name||f()})),d((()=>N.params),(()=>{"produkt-kategoriya-slug"!==N.name&&"produkt-kategoriya-page-pager"!==N.name||f()})),(l,i,d,f)=>{const k=e,$=t,P=r,w=o,j=s,N=a;i(`<div${x(n({class:"container px-2"},f))}>`),!L.value&&u(S)&&u(S).length?(i('<div class="flex items-start gap-16">'),u(_).showFilters?i(h(k,{"hide-categories":!0},null,d)):i("\x3c!----\x3e"),i('<div class="w-full"><div class="flex items-center justify-between w-full gap-4 mt-8 md:gap-8">'),i(h($,null,null,d)),u(_).showOrderByDropdown?i(h(P,{class:"hidden md:inline-flex"},null,d)):i("\x3c!----\x3e"),u(_).showFilters?i(h(w,{class:"md:hidden"},null,d)):i("\x3c!----\x3e"),i("</div>"),i(h(j,null,null,d)),i("</div></div>")):L.value?i('<div class="py-16 text-center"><div class="inline-block p-4 text-gray-500"><div class="h-8 w-8 border-t-2 border-primary border-solid rounded-full mx-auto animate-spin mb-4"></div><p>Loading products...</p></div></div>'):i(h(N,null,{default:p(((e,t,r,o)=>{if(!t)return[m("div",{class:"text-center"},[m("h2",{class:"text-xl font-bold mb-4"},g(B.value?"No products found in this category.":"All Products"),1),B.value?(v(),c("div",{key:0,class:"mt-4 text-sm text-gray-600 border p-4 rounded text-left inline-block"},[m("p",null,[m("strong",null,"URL slug:"),y(" "+g(B.value||"Not provided"),1)]),m("p",null,[m("strong",null,"Decoded slug:"),y(" "+g(u(R)||"Not decoded"),1)])])):(v(),c("div",{key:1,class:"mt-4 text-sm text-gray-600"},[m("p",null,"Please select a category from the menu.")]))])];t(`<div class="text-center"${o}><h2 class="text-xl font-bold mb-4"${o}>${b(B.value?"No products found in this category.":"All Products")}</h2>`),B.value?t(`<div class="mt-4 text-sm text-gray-600 border p-4 rounded text-left inline-block"${o}><p${o}><strong${o}>URL slug:</strong> ${b(B.value||"Not provided")}</p><p${o}><strong${o}>Decoded slug:</strong> ${b(u(R)||"Not decoded")}</p></div>`):t(`<div class="mt-4 text-sm text-gray-600"${o}><p${o}>Please select a category from the menu.</p></div>`),t("</div>")})),_:1},d)),i("</div>")}}}),_=S.setup;S.setup=(e,t)=>{const r=f();return(r.modules||(r.modules=new Set)).add("woonuxt_base/app/pages/produkt-kategoriya/[slug].vue"),_?_(e,t):void 0};export{S as default};
//# sourceMappingURL=_slug_-BsIjM8rJ.mjs.map
