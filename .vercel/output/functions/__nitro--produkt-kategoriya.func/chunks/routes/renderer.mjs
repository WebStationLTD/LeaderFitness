import{createRenderer as e,getRequestDependencies as t,getPreloadLinks as r,getPrefetchLinks as n}from"vue-bundle-renderer/runtime";import{b as o,a as s,d as a,c as i,e as l,g as d,f as u,h as c,i as h,u as p,j as f,k as m}from"../_/nitro.mjs";import{renderToString as y}from"vue/server-renderer";import{createHead as g,propsToString as b,renderSSRHead as v}from"unhead/server";import{FlatMetaPlugin as w}from"unhead/plugins";import{walkResolver as _}from"unhead/utils";import{toValue as x,isRef as j,hasInjectionContext as C,inject as S,ref as T,watchEffect as A,getCurrentInstance as k,onBeforeUnmount as R,onDeactivated as H,onActivated as $}from"vue";const VueResolver=(e,t)=>j(t)?x(t):t,P="usehead";function injectHead(){if(C()){const e=S(P);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function useHead(e,t={}){const r=t.head||injectHead();return r.ssr?r.push(e||{},t):function(e,t,r={}){const n=T(!1);let o;A((()=>{const s=n.value?{}:_(t,VueResolver);o?o.patch(s):o=e.push(s,r)}));k()&&(R((()=>{o.dispose()})),H((()=>{n.value=!0})),$((()=>{n.value=!1})));return o}(r,e,t)}function useSeoMeta(e={},t={}){(t.head||injectHead()).use(w);const{title:r,titleTemplate:n,...o}=e;return useHead({title:r,titleTemplate:n,_flatMeta:o},t)}function createHead(e={}){const t=g({...e,propResolvers:[VueResolver]});return t.install=function(e){return{install(t){t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide(P,e)}}.install}(t),t}const L={meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}],link:[{rel:"preconnect",href:"https://leaderfitness.admin-panels.com"},{rel:"dns-prefetch",href:"https://leaderfitness.admin-panels.com"},{rel:"icon",href:"/next-level-logo.png",type:"image/png"},{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/tiny-slider.css"}],style:[],script:[{src:"https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/min/tiny-slider.js",defer:!0}],noscript:[],htmlAttrs:{lang:"bg"}},z={id:"teleports"},M={id:"__nuxt-loader"},O=`<div${b({id:"__nuxt"})}>`,U="</div>",getClientManifest=()=>import("../build/client.manifest.mjs").then((e=>e.default||e)).then((e=>"function"==typeof e?e():e)),E=lazyCachedFunction((async()=>{const t=await getClientManifest();if(!t)throw new Error("client.manifest is not available");const r=await import("../build/server.mjs").then((e=>e.default||e));if(!r)throw new Error("Server bundle is not available");return e(r,{manifest:t,renderToString:async function(e,t){const r=await y(e,t);return O+r+U},buildAssetsURL:o})})),N=lazyCachedFunction((async()=>{const t=await getClientManifest(),r=await import("../virtual/_virtual_spa-template.mjs").then((e=>e.template)).catch((()=>"")).then((e=>{{const t=`<div${b(M)}>`;return O+U+(e?t+e+"</div>":"")}})),n=e((()=>()=>{}),{manifest:t,renderToString:()=>r,buildAssetsURL:o}),a=await n.renderToString({});return{rendererContext:n.rendererContext,renderToString:e=>{const t=s(e.event);return e.modules||=new Set,e.payload.serverRendered=!1,e.config={public:t.public,app:t.app},Promise.resolve(a)}}}));function lazyCachedFunction(e){let t=null;return()=>(null===t&&(t=e().catch((e=>{throw t=null,e}))),t)}function renderPayloadScript(e){e.data.config=e.ssrContext.config;const t=a(e.data),r=`window.__NUXT__=${t}`;return JSON.stringify("nuxt-app"),[{innerHTML:r}]}const F={disableDefaults:!0};const B={omitLineBreaks:!0};globalThis.__buildAssetsURL=o,globalThis.__publicAssetsURL=l;const D=!!z.id,I=D?`<div${b(z)}>`:"",q=D?"</div>":"",J=i((async e=>{const a=p(),i=e.path.startsWith("/__nuxt_error")?d(e):null;if(i&&!("__unenv__"in e.node.req))throw u({statusCode:404,statusMessage:"Page Not Found: /__nuxt_error"});const l=function(e){return{url:e.path,event:e,runtimeConfig:s(e),noSSR:e.context.nuxt?.noSSR||!1,head:createHead(F),error:!1,nuxt:void 0,payload:{},_payloadReducers:Object.create(null),modules:new Set}}(e),y={mode:"server"};if(l.head.push(L,y),i){if(i.statusCode&&=Number.parseInt(i.statusCode),"string"==typeof i.data)try{i.data=c(i.data)}catch{}!function(e,t){e.error=!0,e.payload={error:t},e.url=t.url}(l,i)}const g=h(e);!1===g.ssr&&(l.noSSR=!0);const b=await function(e){return e.noSSR?N():E()}(l),w=await b.renderToString(l).catch((async e=>{if(l._renderResponse&&"skipping render"===e.message)return{};const t=!i&&l.payload?.error||e;throw await(l.nuxt?.hooks.callHook("app:error",t)),t})),_=[];if(await(l.nuxt?.hooks.callHook("app:rendered",{ssrContext:l,renderResult:w})),l._renderResponse)return l._renderResponse;if(l.payload?.error&&!i)throw l.payload.error;const x=g.noScripts,{styles:j,scripts:C}=t(l,b.rendererContext);l._preloadManifest&&!x&&l.head.push({link:[{rel:"preload",as:"fetch",fetchpriority:"low",crossorigin:"anonymous",href:o(`builds/meta/${l.runtimeConfig.app.buildId}.json`)}]},{...y,tagPriority:"low"}),_.length&&l.head.push({style:_});const S=[];for(const e of Object.values(j))S.push({rel:"stylesheet",href:b.rendererContext.buildAssetsURL(e.file),crossorigin:""});S.length&&l.head.push({link:S},y),x||(l.head.push({link:r(l,b.rendererContext)},y),l.head.push({link:n(l,b.rendererContext)},y),l.head.push({script:renderPayloadScript({ssrContext:l,data:l.payload})},{...y,tagPosition:"bodyClose",tagPriority:"high"})),g.noScripts||l.head.push({script:Object.values(C).map((e=>({type:e.module?"module":null,src:b.rendererContext.buildAssetsURL(e.file),defer:!e.module||null,tagPosition:"head",crossorigin:""})))},y);const{headTags:T,bodyTags:A,bodyTagsOpen:k,htmlAttrs:R,bodyAttrs:H}=await v(l.head,B),$={htmlAttrs:R?[R]:[],head:normalizeChunks([T]),bodyAttrs:H?[H]:[],bodyPrepend:normalizeChunks([k,l.teleports?.body]),body:[w.html,I+(D?joinTags([l.teleports?.[`#${z.id}`]]):"")+q],bodyAppend:[A]};return await a.hooks.callHook("render:html",$,{event:e}),{body:(P=$,`<!DOCTYPE html><html${joinAttrs(P.htmlAttrs)}><head>${joinTags(P.head)}</head><body${joinAttrs(P.bodyAttrs)}>${joinTags(P.bodyPrepend)}${joinTags(P.body)}${joinTags(P.bodyAppend)}</body></html>`),statusCode:m(e),statusMessage:f(e),headers:{"content-type":"text/html;charset=utf-8","x-powered-by":"Nuxt"}};var P}));function normalizeChunks(e){return e.filter(Boolean).map((e=>e.trim()))}function joinTags(e){return e.join("")}function joinAttrs(e){return 0===e.length?"":" "+e.join(" ")}const W=Object.freeze({__proto__:null,default:J});export{useHead as a,P as h,W as r,useSeoMeta as u};
//# sourceMappingURL=renderer.mjs.map
