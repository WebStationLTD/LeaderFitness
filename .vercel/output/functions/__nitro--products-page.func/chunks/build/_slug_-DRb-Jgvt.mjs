import{_ as e,a as t,b as r,c as o,d as i}from"./ProductGrid-BBqXlqME.mjs";import{defineComponent as s,withAsyncContext as n,watch as l,unref as a,mergeProps as u,useSSRContext as p}from"vue";import{ssrRenderAttrs as d,ssrRenderComponent as c}from"vue/server-renderer";import{z as m,e as v,d as g,w as h,i as y,l as f}from"./server.mjs";import"./default-Bg1Kxs2x.mjs";import"graphql-request";import"./ProductCardDetailed-CSAFHc_l.mjs";import"./NuxtImg-BJG_EbHe.mjs";import"./ProductPrice-BLA-t2Nu.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"consola";import"@iconify/utils";import"node:crypto";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@iconify/vue";import"@heroicons/vue/24/outline";import"@iconify/utils/lib/css/icon";import"@headlessui/vue";import"@heroicons/vue/20/solid";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const x=s({__name:"[slug]",__ssrInlineRender:!0,async setup(s){var p,x,w,q,j,P,_,b,B,M;let k,F;const{updateProductList:C,products:D}=m();v();const{storeSettings:S}=g(),E=h(),H=E.params.slug;let L=null,A="Products",G="Products in this category";try{const{data:e}=([k,F]=n((()=>y("getProductCategories",{first:1,slug:[H]}))),k=await k,F(),k);L=(null==(w=null==(x=null==(p=e.value)?void 0:p.productCategories)?void 0:x.nodes)?void 0:w[0])||null,L&&(A=(null==(q=L.seo)?void 0:q.title)||L.name||"Products",G=(null==(j=L.seo)?void 0:j.metaDesc)||L.description||"Products in this category",f({title:A,meta:[{name:"description",content:G},{property:"og:title",content:(null==(P=L.seo)?void 0:P.opengraphTitle)||A},{property:"og:description",content:(null==(_=L.seo)?void 0:_.opengraphDescription)||G}],link:[{rel:"canonical",href:(null==(b=L.seo)?void 0:b.canonical)||""}]}),(null==(M=null==(B=L.seo)?void 0:B.schema)?void 0:M.raw)&&f({script:[{type:"application/ld+json",innerHTML:L.seo.schema.raw}]}))}catch(e){console.error("Грешка при зареждане на SEO данни за категорията:",e),f({title:A,meta:[{name:"description",content:G}]})}return E.query.search,E.query.priceMin&&parseFloat(E.query.priceMin),E.query.priceMax&&parseFloat(E.query.priceMax),E.query.sale,E.query.orderby,l((()=>E.query),(()=>{"produkt-kategoriya-slug"===E.name&&C()})),l((()=>E.params),(()=>{"produkt-kategoriya-slug"===E.name&&C()})),(s,n,l,p)=>{const m=e,v=t,g=r,h=o,y=i;a(D).length,n(`<div${d(u({class:"container flex items-start gap-16 px-2"},p))}>`),a(S).showFilters?n(c(m,{"hide-categories":!0},null,l)):n("\x3c!----\x3e"),n('<div class="w-full"><div class="flex items-center justify-between w-full gap-4 mt-8 md:gap-8">'),n(c(v,null,null,l)),a(S).showOrderByDropdown?n(c(g,{class:"hidden md:inline-flex"},null,l)):n("\x3c!----\x3e"),a(S).showFilters?n(c(h,{class:"md:hidden"},null,l)):n("\x3c!----\x3e"),n("</div>"),n(c(y,null,null,l)),n("</div></div>")}}}),w=x.setup;x.setup=(e,t)=>{const r=p();return(r.modules||(r.modules=new Set)).add("woonuxt_base/app/pages/product-category/[slug].vue"),w?w(e,t):void 0};export{x as default};
//# sourceMappingURL=_slug_-DRb-Jgvt.mjs.map
