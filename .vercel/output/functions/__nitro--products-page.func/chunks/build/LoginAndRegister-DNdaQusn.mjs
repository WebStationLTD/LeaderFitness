import{c as e,v as t,w as s,r as o,f as a,g as r,b as i,d,h as n,_ as l}from"./server.mjs";import{defineComponent as m,ref as c,watch as u,computed as p,mergeProps as v,unref as g,withCtx as x,createBlock as f,createCommentVNode as y,openBlock as h,toDisplayString as b,useSSRContext as w}from"vue";import{ssrRenderAttrs as $,ssrRenderComponent as _,ssrInterpolate as j,ssrRenderAttr as P,ssrIncludeBooleanAttr as L,ssrLooseContain as A,ssrRenderClass as R,ssrRenderList as k}from"vue/server-renderer";import{L as O}from"./default-Bg1Kxs2x.mjs";import{_ as q}from"./PasswordInput-s3-97MT1.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"graphql-request";import"consola";import"@iconify/utils";import"node:crypto";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@iconify/vue";import"@heroicons/vue/24/outline";import"@iconify/utils/lib/css/icon";import"@headlessui/vue";import"@heroicons/vue/20/solid";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const U=m({__name:"LoginProviders",__ssrInlineRender:!0,setup(e){const{loginClients:t,loginWithProvider:r}=a(),i=s(),m=o(),{storeSettings:c}=d(),{provider:u,code:v,state:w}=i.query;v&&w&&u&&r(w,v,u.toUpperCase()).then((()=>{m.replace({query:{}})})).catch((e=>{console.error("Login failed:",e)}));const P={FACEBOOK:"ion:logo-facebook",GITHUB:"ion:logo-github",GOOGLE:"ion:logo-google",INSTAGRAM:"ion:logo-instagram",LINKEDIN:"ion:logo-linkedin"},L=(null==c?void 0:c.socialLoginsDisplay)||"buttons",A=p((()=>{var e;return(null==(e=t.value)?void 0:e.filter((e=>(null==e?void 0:e.provider)!==O.PASSWORD)))||[]})),labelFallback=e=>e?`Login with ${e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}`:"Login";return(e,t,s,o)=>{var a;const r=n,i=l,d=l;(null==(a=g(A))?void 0:a.length)?(t(`<div${$(o)}><div class="${R(["buttons"===g(L)?"grid gap-4 grid-cols-[repeat(auto-fit,minmax(180px,1fr))] justify-center":" flex gap-4 flex-wrap justify-center","gap-4"])}">\x3c!--[--\x3e`),k(g(A),((e,o)=>{t("<div>"),e&&(null==e?void 0:e.authorizationUrl)?t(_(r,{to:null==e?void 0:e.authorizationUrl,class:"flex items-center justify-center gap-3 p-3 bg-white rounded-lg shadow-sm hover:shadow transition duration-100 ease-in-out"},{default:x(((t,s,o,a)=>{if(!s)return[e.provider?(h(),f(i,{key:0,name:P[e.provider],size:"20"},null,8,["name"])):(h(),f(d,{key:1,name:"ion:log-in",size:"20"})),"buttons"===g(L)?(h(),f("span",{key:2},b(e.name||labelFallback(e.provider)),1)):y("",!0)];e.provider?s(_(i,{name:P[e.provider],size:"20"},null,o,a)):s(_(d,{name:"ion:log-in",size:"20"},null,o,a)),"buttons"===g(L)?s(`<span${a}>${j(e.name||labelFallback(e.provider))}</span>`):s("\x3c!----\x3e")})),_:2},s)):t("\x3c!----\x3e"),t("</div>")})),t(`\x3c!--]--\x3e</div><div class="flex items-center justify-center gap-4 my-8 leading-none"><div class="border-b w-1/3 flex-1"></div><div class="text-gray-400">${j(e.$t("messages.account.orContinueWithEmail"))}</div><div class="border-b w-1/3 flex-1"></div></div></div>`)):t("\x3c!----\x3e")}}}),I=U.setup;U.setup=(e,t)=>{const s=w();return(s.modules||(s.modules=new Set)).add("woonuxt_base/app/components/forms/LoginProviders.vue"),I?I(e,t):void 0};const z=Object.assign(U,{__name:"LoginProviders"}),S=m({__name:"LoginAndRegister",__ssrInlineRender:!0,setup(e){const{t:d}=t(),n=s();o();const{isPending:l}=a(),m=c({email:"",password:"",username:"",rememberMe:!1}),x=c("login"),f=c(""),y=c("");u(n,(()=>{"forgotPassword"===n.query.action?x.value="forgotPassword":"register"===n.query.action?x.value="register":x.value="login"}),{immediate:!0});const h=p((()=>"login"===x.value?d("messages.account.loginToAccount"):"register"===x.value?d("messages.account.accountRegister"):"forgotPassword"===x.value?d("messages.account.forgotPassword"):void 0)),b=p((()=>"login"===x.value?d("messages.account.login"):"register"===x.value?d("messages.account.register"):"forgotPassword"===x.value?d("messages.account.sendPasswordResetEmail"):void 0));p((()=>"register"===x.value?d("messages.billing.email"):d("messages.account.emailOrUsername"))),p((()=>"login"===x.value?d("messages.account.emailOrUsername"):d("messages.account.username")));const w=p((()=>d("messages.account.password"))),R=p((()=>({email:"johndoe@email.com",username:"login"===x.value?"johndoe@email.com":"johndoe",password:"********"})));return(e,t,s,o)=>{const a=r,d=z,n=q,c=i;t(`<div${$(v({class:"max-w-lg mx-auto my-16 min-h-[600px] text-center"},o))} data-v-48dd173d>`),t(_(a,null,null,s)),t(`<div class="flex flex-col my-2" data-v-48dd173d><h1 class="text-xl font-semibold lg:text-3xl" data-v-48dd173d>${j(g(h))}</h1><p class="text-gray-500 mt-2" data-v-48dd173d>Welcome back! Select method to login.</p></div>`),"login"===g(x)||"register"===g(x)?t(_(d,{class:"my-8"},null,s)):t("\x3c!----\x3e"),t('<form class="mt-6" data-v-48dd173d>'),"register"===g(x)||"forgotPassword"===g(x)?t(`<div for="email" data-v-48dd173d><input id="email"${P("value",g(m).email)}${P("placeholder",g(R).email)} autocomplete="email" type="text" required data-v-48dd173d></div>`):t("\x3c!----\x3e"),"forgotPassword"===g(x)?t(`<p class="text-sm text-gray-500" data-v-48dd173d>${j(e.$t("messages.account.enterEmailOrUsernameForReset"))}</p>`):t("\x3c!----\x3e"),"forgotPassword"!==g(x)?(t(`<div data-v-48dd173d><input class="mt-1"${P("value",g(m).username)}${P("placeholder",g(R).username)} autocomplete="username" type="text" required data-v-48dd173d>`),t(_(n,{className:"border rounded-lg w-full p-3 px-4 bg-white mt-1",modelValue:g(m).password,"onUpdate:modelValue":e=>g(m).password=e,placeholder:g(w),autocomplete:"login"===g(x)?"current-password":"new-password",required:!0},null,s)),t("</div>")):t("\x3c!----\x3e"),g(f)?t(`<div class="my-4 text-sm text-green-500" data-v-48dd173d>${g(f)??""}</div>`):t("\x3c!----\x3e"),g(y)?t(`<div class="my-4 text-sm text-red-500" data-v-48dd173d>${g(y)??""}</div>`):t("\x3c!----\x3e"),t(`<div class="flex items-center justify-between mt-4" data-v-48dd173d><label class="flex items-center gap-2" data-v-48dd173d><input${L(Array.isArray(g(m).rememberMe)?A(g(m).rememberMe,null):g(m).rememberMe)?" checked":""} type="checkbox" data-v-48dd173d>Remember me </label>`),"login"===g(x)?t('<div class="font-semibold cursor-pointer text-sm text-primary hover:text-primary" data-v-48dd173d> Forgot password? </div>'):t("\x3c!----\x3e"),t('</div><button class="flex items-center justify-center gap-4 my-6 text-lg" data-v-48dd173d>'),g(l)?t(_(c,{stroke:"4",size:"16",color:"#fff"},null,s)):t("\x3c!----\x3e"),t(`<span data-v-48dd173d>${j(g(b))}</span></button></form>`),"login"===g(x)?t(`<div class="my-6 text-center" data-v-48dd173d>${j(e.$t("messages.account.noAccount"))} <a class="font-semibold cursor-pointer text-primary" data-v-48dd173d>${j(e.$t("messages.account.accountRegister"))}</a>. </div>`):t("\x3c!----\x3e"),"register"===g(x)?t(`<div class="my-2 text-center justify-center" data-v-48dd173d>${j(e.$t("messages.account.hasAccount"))} <a class="font-semibold cursor-pointer text-primary" data-v-48dd173d>${j(e.$t("messages.general.please"))} ${j(e.$t("messages.account.accountLogin"))}</a></div>`):t("\x3c!----\x3e"),"forgotPassword"===g(x)?t(`<div class="my-8 text-center cursor-pointer" data-v-48dd173d>${j(e.$t("messages.account.backToLogin"))}</div>`):t("\x3c!----\x3e"),t("</div>")}}}),C=S.setup;S.setup=(e,t)=>{const s=w();return(s.modules||(s.modules=new Set)).add("woonuxt_base/app/components/forms/LoginAndRegister.vue"),C?C(e,t):void 0};const E=Object.assign(e(S,[["__scopeId","data-v-48dd173d"]]),{__name:"LoginAndRegister"});export{E as default};
//# sourceMappingURL=LoginAndRegister-DNdaQusn.mjs.map
